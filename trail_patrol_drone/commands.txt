Assignment folder:
/home/jsunne/git/rs1group31/trail_patrol_drone

# Link package to workspace (Make ~/trail_patrol_ws/src first)
cd ~/trail_patrol_ws/src
ln -s ~/git/RS1Group31/trail_patrol_drone .

# Permanent source and graphic fix
echo 'if [ -f ~/trail_patrol_ws/install/setup.bash ]; then source ~/trail_patrol_ws/install/setup.bash; fi' >> ~/.bashrc
echo 'export LIBGL_ALWAYS_SOFTWARE=true' >> ~/.bashrc
OR
export MESA_GL_VERSION_OVERRIDE=4.6
export MESA_GLSL_VERSION_OVERRIDE=460
export MESA_GLSL_CACHE_DISABLE=1
export MESA_NO_ERROR=1

# Build:
cd ~/trail_patrol_ws
rm -rf build install log
source /opt/ros/humble/setup.bash
colcon build --symlink-install

# ===== LAUNCH OPTIONS =====

# Option 1: Original world WITHOUT obstacle (for testing basic navigation)
source ~/trail_patrol_ws/install/setup.bash
ros2 launch trail_patrol_drone trail_patrol_drone.launch.py slam:=true rviz:=true world:=large_demo

# Option 2: World WITH obstacle (for testing obstacle detection)
source ~/trail_patrol_ws/install/setup.bash
ros2 launch trail_patrol_drone trail_patrol_drone_obstacle.launch.py slam:=true rviz:=true

# Option 3: World WITH WALL obstacle (forces fly-over protocol)
source ~/trail_patrol_ws/install/setup.bash
ros2 launch trail_patrol_drone trail_patrol_drone_wall_obstacle.launch.py slam:=true rviz:=true

# ===== RUN NODES (in separate terminals) =====

# Terminal 1: Run Navigation Node
source ~/trail_patrol_ws/install/setup.bash
ros2 run trail_patrol_drone navigation

# Terminal 2: Run Mission Node
source ~/trail_patrol_ws/install/setup.bash
ros2 run trail_patrol_drone mission
